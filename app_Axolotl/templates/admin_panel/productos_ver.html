{% load static %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Gesti√≥n de Productos</title>
    <link rel="stylesheet" href="{% static 'style.css' %}">
    <style>
        body { background: #faf7fb; color: #2b0030; }
        .container { max-width: 1400px; margin: 0 auto; padding: 30px 20px; }
        .page-header { background: white; padding: 20px 25px; border-radius: 8px; margin-bottom: 25px; box-shadow: 0 2px 6px rgba(0,0,0,0.05); }
        .page-header h1 { color: #ff66cc; margin: 0 0 8px; font-size: 24px; }
        .btn-group { margin-bottom: 20px; }
        .btn { display: inline-block; padding: 10px 18px; background: #ff66cc; color: white; text-decoration: none; border-radius: 6px; font-size: 13px; font-weight: 600; transition: all 0.3s; }
        .btn:hover { background: #c51a8d; }
        .btn-secondary { background: #999; }
        .btn-secondary:hover { background: #666; }
        table { width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 6px rgba(0,0,0,0.05); }
        th { background: linear-gradient(135deg, #ff66cc 0%, #c51a8d 100%); color: white; padding: 15px; text-align: left; font-weight: 600; }
        td { padding: 14px 15px; border-bottom: 1px solid #f0f0f0; }
        tr:hover { background: #fff6fb; }
        .product-img-cell { width: 80px; text-align: center; }
        .product-img-cell img { width: 70px; height: 70px; object-fit: cover; border-radius: 6px; border: 2px solid #ffe6f6; }
        .product-img-placeholder { width: 70px; height: 70px; background: linear-gradient(135deg, #ff66cc, #c51a8d); border-radius: 6px; display: flex; align-items: center; justify-content: center; color: white; font-size: 30px; margin: 0 auto; }
        .action-btn { display: inline-block; padding: 6px 12px; font-size: 12px; margin-right: 8px; border-radius: 4px; text-decoration: none; transition: all 0.3s; }
        .action-btn-edit { background: #ff66cc; color: white; }
        .action-btn-edit:hover { background: #c51a8d; }
        .action-btn-delete { background: #ff4444; color: white; }
        .action-btn-delete:hover { background: #dd0000; }
    </style>
</head>
<body class="content-with-footer">
    <div class="container">
        <div class="page-header">
            <h1>üéÅ Gesti√≥n de Productos</h1>
        </div>
        
        <div class="btn-group">
            <a href="{% url 'agregar_productos' %}" class="btn">+ Nuevo Producto</a>
            <a href="{% url 'inicio_axolotlmusic' %}" class="btn btn-secondary">‚Üê Volver</a>
        </div>
        
        {% if productos %}
        <table>
            <thead>
                <tr>
                    <th>Imagen</th>
                    <th>ID</th>
                    <th>Nombre</th>
                    <th>Artista</th>
                    <th>G√©nero</th>
                    <th>Tipo</th>
                    <th>Precio</th>
                    <th>Stock</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                {% for p in productos %}
                <tr>
                    <td class="product-img-cell">
                        {% if p.img %}
                            <img src="{{ p.img.url }}" alt="{{ p.nombre_producto }}">
                        {% else %}
                            <div class="product-img-placeholder">üéµ</div>
                        {% endif %}
                    </td>
                    <td>#{{ p.id }}</td>
                    <td><strong>{{ p.nombre_producto }}</strong></td>
                    <td>{{ p.artista.nombre_artista }}</td>
                    <td>{{ p.get_genero_display }}</td>
                    <td>{{ p.get_tipo_display }}</td>
                    <td>${{ p.precio }}</td>
                    <td>{{ p.stock }}</td>
                    <td>
                        <a href="{% url 'actualizar_productos' p.id %}" class="action-btn action-btn-edit">Editar</a>
                        <a href="{% url 'borrar_productos' p.id %}" class="action-btn action-btn-delete">Eliminar</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% endif %}
    </div>
    {% include "footer.html" %}
</body>
</html>